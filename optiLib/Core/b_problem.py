# opti/problem.py

import numpy as np


class OptimizationProblem:
    """
    –ö–ª–∞—Å—Å –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

    –ö–ª–∞—Å—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è:
    - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ –æ—Ü–µ–Ω–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    - –ó–∞–¥–∞–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ —Ä–µ—à–µ–Ω–∏—è
    - –†–∞–±–æ—Ç—ã —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É–∑–ª–æ–≤
    - –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Ä–µ—à–µ–Ω–∏–π
    - –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç–∏ —Ä–µ—à–µ–Ω–∏–π
    - –í—ã—á–∏—Å–ª–µ–Ω–∏—è —Å–≤–µ—Ä—Ç–∫–∏ —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

    –ê—Ç—Ä–∏–±—É—Ç—ã:
    ----------
    name : str
        –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    
    f_objective : list
        –°–ø–∏—Å–æ–∫ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    
    constraints : list
        –°–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    
    vector_length : int
        –î–ª–∏–Ω–∞ –≤–µ–∫—Ç–æ—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
    
    bounds : numpy.ndarray
        –ì—Ä–∞–Ω–∏—Ü—ã –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    
    dtype : type
        –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–µ–∫—Ç–æ—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
    
    node_functions : dict
        –°–ª–æ–≤–∞—Ä—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É–∑–ª–æ–≤

    function_constraints : dict
        –°–ª–æ–≤–∞—Ä—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π {—Ñ—É–Ω–∫—Ü–∏—è: [–º–∏–Ω_–∑–Ω–∞—á–µ–Ω–∏–µ, –º–∞–∫—Å_–∑–Ω–∞—á–µ–Ω–∏–µ]}
    
    special_function_constraints : dict
        –°–ª–æ–≤–∞—Ä—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —É–∑–ª–æ–≤ 
        {(—É–∑–ª—ã): {—Ñ—É–Ω–∫—Ü–∏—è: [–º–∏–Ω_–∑–Ω–∞—á–µ–Ω–∏–µ, –º–∞–∫—Å_–∑–Ω–∞—á–µ–Ω–∏–µ]}}   

    –ú–µ—Ç–æ–¥—ã:
    -------
    generate_random_solution()
        –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ
    
    get_info(vector)
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–µ—à–µ–Ω–∏—è
    
    evaluate_objectives(vector)
        –í—ã—á–∏—Å–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    
    convolution_evaluate_objectives(vector)
        –í—ã—á–∏—Å–ª—è–µ—Ç —Å–≤–µ—Ä—Ç–∫—É —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    
    expanded_constraints(vector)
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    
    check_constraints(vector)
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è
    
    evaluate(solution)
        –í—ã—á–∏—Å–ª—è–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è
    
    constrain_elements(vector)
        –ü—Ä–∏–≤–æ–¥–∏—Ç —Ä–µ—à–µ–Ω–∏–µ –∫ –¥–æ–ø—É—Å—Ç–∏–º–æ–º—É –≤–∏–¥—É
    
    is_feasible(solution)
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è
    

    –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
    -----------
    1. –í—Å–µ —Ü–µ–ª–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:
       - vector: —Ç–µ–∫—É—â–∏–π –≤–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è
       - problem: —ç–∫–∑–µ–º–ø–ª—è—Ä –∑–∞–¥–∞—á–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    
    2. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–∑–ª–æ–≤ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ 
       —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —É–∑–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ —Ä–µ—à–µ–Ω–∏–∏
    
    3. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å:
       - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
       - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
       - –ì—Ä–∞–Ω–∏—Ü—ã –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
       - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É–∑–ª–æ–≤
    
    4. –ö–ª–∞—Å—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—É—é, —Ç–∞–∫ –∏ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
       —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä dtype

    4. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç—Å—è
    """

    def __init__(self, f_objective, constraints=None, bounds=None, dtype = int, len = 10, name = "Problem 1", node_functions=None, 
                 function_constraints=None, special_function_constraints=None):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ 
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        -----------
        f_objective : list
            –°–ø–∏—Å–æ–∫ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
        
        constraints : list, optional
            –°–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–º –¥–æ–ª–∂–Ω–æ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ
            
        bounds : array-like, optional 
            –ì—Ä–∞–Ω–∏—Ü—ã –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ [[min1,max1], [min2,max2],...]
            
        dtype : type, optional
            –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–µ–∫—Ç–æ—Ä–∞ —Ä–µ—à–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é int)
            
        len : int, optional
            –î–ª–∏–Ω–∞ –≤–µ–∫—Ç–æ—Ä–∞ —Ä–µ—à–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
            
        name : str, optional
            –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "Problem 1")
            
        node_functions : dict, optional
            –°–ª–æ–≤–∞—Ä—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É–∑–ª–æ–≤
            –§–æ—Ä–º–∞—Ç: {(—É–∑–µ–ª1, —É–∑–µ–ª2,...): —Ñ—É–Ω–∫—Ü–∏—è, ...}
            –ü—Ä–∏–º–µ—Ä: {(1,2): special_func1, (3,4,5): special_func2}
                
        function_constraints : dict
            –°–ª–æ–≤–∞—Ä—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π {—Ñ—É–Ω–∫—Ü–∏—è: [–º–∏–Ω_–∑–Ω–∞—á–µ–Ω–∏–µ, –º–∞–∫—Å_–∑–Ω–∞—á–µ–Ω–∏–µ]}
            –ü—Ä–∏–º–µ—Ä:     function_constraints={
                            objective1: [0, 100]  # –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
                        }

        special_function_constraints : dict
            –°–ª–æ–≤–∞—Ä—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —É–∑–ª–æ–≤ 
            {(—É–∑–ª—ã): {—Ñ—É–Ω–∫—Ü–∏—è: [–º–∏–Ω_–∑–Ω–∞—á–µ–Ω–∏–µ, –º–∞–∫—Å_–∑–Ω–∞—á–µ–Ω–∏–µ]}}
            –ü—Ä–∏–º–µ—Ä :    special_function_constraints={
                            (1, 2): {special_func1: [0, 10]}  # –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
                        }
        """
        self.name = name
        self.f_objective = f_objective
        self.constraints = constraints if constraints is not None else []
        self.vector_length = None
        self.bounds = np.array(bounds) if bounds is not None else None
        self.dtype = dtype
        self.vector_length = len
        self.node_functions = node_functions if node_functions is not None else {}
        self.function_constraints = function_constraints if function_constraints is not None else {}
        self.special_function_constraints = special_function_constraints if special_function_constraints is not None else {}

    def generate_random_solution(self):
        """
        –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏.
        
        –ê–ª–≥–æ—Ä–∏—Ç–º:
        1. –° –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 0.7 –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±–æ—Ä–∞ —É–∑–ª–æ–≤ —Å–µ—Ç–∏
        2. –° –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 0.3 –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –≤ –∑–∞–¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü–∞—Ö
        
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        numpy.ndarray
            –°–ª—É—á–∞–π–Ω—ã–π –¥–æ–ø—É—Å—Ç–∏–º—ã–π –≤–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è
        """
        if np.random.random() < 0.7:
            net_nodes = self.network_graph.graph.number_of_nodes()
            tasks = self.task_graph.graph.number_of_nodes()
            num_to_select = np.random.randint(1, net_nodes + 1)
            nods_to_select = np.random.choice([i for i in range(net_nodes)], size=num_to_select, replace=False)
            return self.constrain_elements(np.random.choice(nods_to_select, size=tasks))
        else:
            if self.bounds is not None:
                lower_bounds, upper_bounds = self.bounds[:, 0], self.bounds[:, 1]
                return self.constrain_elements(np.random.uniform(lower_bounds, upper_bounds, self.vector_length).astype(self.dtype))
            else:
                return self.constrain_elements(np.zeros(self.vector_length, dtype=self.dtype))

    def get_info_save(self, vector=None):
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ—à–µ–Ω–∏–∏.
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        ----------
        vector : array-like, optional
            –í–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
            
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        dict
            –°–ª–æ–≤–∞—Ä—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –∏ —Å–≤–µ—Ä—Ç–∫–æ–π
        """
        info = {
            **{f.__name__: f(vector, self) for name, f in self.f_objective.items()},
            **{f.__name__: f(vector, self) for f in self.constraints},
            '–°–≤–µ—Ä—Ç–∫–∞': self.evaluate(vector)
        }
        # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö —Ñ—É–Ω–∫—Ü–∏–π
        info['–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π'] = {
            f.__name__: {
                '–∑–Ω–∞—á–µ–Ω–∏–µ': f(vector, self),
                '–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è': bounds
            } for f, bounds in self.function_constraints.items()
        }

        # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        info['–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π'] = {}

        # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —É–∑–ª–∞–º –∏ –∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º
        for nodes, constraints in self.special_function_constraints.items():
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —É–∑–µ–ª –∏–∑ nodes –≤ vector
            has_node = False
            for node in nodes:
                if node in vector:
                    has_node = True
                    break
                    
            if has_node:
                # –°–æ–∑–¥–∞–µ–º –∫–ª—é—á –¥–ª—è —Ç–µ–∫—É—â–∏—Ö —É–∑–ª–æ–≤
                node_key = f'—É–∑–ª—ã {nodes}'
                info['–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π'][node_key] = {}
                for node in nodes:
                    # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –∏ –∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º
                    for f, bounds in constraints.items():
                        # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ—É–Ω–∫—Ü–∏–∏
                        info['–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π'][node_key][f.__name__] = {
                            '–∑–Ω–∞—á–µ–Ω–∏–µ': f(vector, self, node),
                            '–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è': bounds,
                            '—É–∑–µ–ª': nodes  # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É–∑–ª–µ
                        }

        return info
    
    def get_info(self, vector=None):
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ—à–µ–Ω–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ.
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        ----------
        vector : array-like, optional
            –í–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
            
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        str
            –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ä–µ—à–µ–Ω–∏–∏
        """
        if vector is None:
            return "–í–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω"

        info_str = "\n=== –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –†–ï–®–ï–ù–ò–ò ===\n\n"

        # –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        info_str += "üìä –¶–ï–õ–ï–í–´–ï –§–£–ù–ö–¶–ò–ò:\n"
        info_str += "-" * 40 + "\n"
        for name, f in self.f_objective.items():
            value = f(vector, self)
            info_str += f"‚ñ™ {f.__name__:<30} = {value if value is not None else 0:.4f}\n"
        info_str += "\n"

        # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
        info_str += "üîí –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø:\n"
        info_str += "-" * 40 + "\n"
        for f in self.constraints:
            value = f(vector, self)
            info_str += f"‚ñ™ {f.__name__:<30} = {value:.4f}\n"
        info_str += "\n"

        # –ó–Ω–∞—á–µ–Ω–∏–µ —Å–≤–µ—Ä—Ç–∫–∏
        info_str += "üìà –ó–ù–ê–ß–ï–ù–ò–ï –°–í–ï–†–¢–ö–ò:\n"
        info_str += "-" * 40 + "\n"
        info_str += f"‚ñ™ –û–±—â–∞—è —Å–≤–µ—Ä—Ç–∫–∞ = {self.evaluate(vector):.4f}\n\n"

        # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
        info_str += "üéØ –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø –§–£–ù–ö–¶–ò–ô:\n"
        info_str += "-" * 40 + "\n"
        for f, bounds in self.function_constraints.items():
            value = f(vector, self)
            info_str += f"‚ñ™ {f.__name__}:\n"
            info_str += f"  ‚îú‚îÄ –ó–Ω–∞—á–µ–Ω–∏–µ: {value:.4f}\n"
            info_str += f"  ‚îî‚îÄ –ì—Ä–∞–Ω–∏—Ü—ã: [{bounds[0]}, {bounds[1]}]\n"
        info_str += "\n"

        # –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
        info_str += "‚≠ê –°–ü–ï–¶–ò–ê–õ–¨–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø:\n"
        info_str += "-" * 40 + "\n"
        for nodes, constraints in self.special_function_constraints.items():
            has_node = any(node in vector for node in nodes)
            
            if has_node:
                info_str += f"‚ñ™ –£–∑–ª—ã {nodes}:\n"
                for f, bounds in constraints.items():
                    for node in nodes:
                        value = f(vector, self, node)
                        info_str += f"  ‚îú‚îÄ {f.__name__} (—É–∑–µ–ª {node}):\n"
                        info_str += f"  ‚îÇ  ‚îú‚îÄ –ó–Ω–∞—á–µ–Ω–∏–µ: {value if value is not None else 0:.4f}\n"
                        info_str += f"  ‚îÇ  ‚îî‚îÄ –ì—Ä–∞–Ω–∏—Ü—ã: [{bounds[0]}, {bounds[1]}]\n"
                info_str += "  ‚îî‚îÄ\n"

        info_str += "\n=== –ö–û–ù–ï–¶ –û–¢–ß–ï–¢–ê ===\n"

        return info_str

    def evaluate_objectives(self, vector=None):
        """
        –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –≤—Å–µ—Ö —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        -----------
        vector : array-like, optional
            –í–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏. –ï—Å–ª–∏ None, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω—É–ª–µ–≤–æ–π –≤–µ–∫—Ç–æ—Ä
            
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        list
            –°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π –≤—Å–µ—Ö —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:
            - –°–Ω–∞—á–∞–ª–∞ –∏–¥—É—Ç –∑–Ω–∞—á–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
            - –ó–∞—Ç–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É–∑–ª–æ–≤
            
        –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
        -----------
        1. –î–ª—è –∫–∞–∂–¥–æ–π –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–µ–ª–µ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ
        2. –î–ª—è –∫–∞–∂–¥–æ–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —É–∑–ª–æ–≤ 
           –≤ –≤–µ–∫—Ç–æ—Ä–µ —Ä–µ—à–µ–Ω–∏—è –∏, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å, –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
        """
        # –í—ã—á–∏—Å–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        base_objectives = [f(vector, self) for name, f in self.f_objective.items()]
        
        # –í—ã—á–∏—Å–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É–∑–ª–æ–≤
        node_specific_objectives = []
        if vector is not None:
            for nodes, func in self.node_functions.items():
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —É–∑–ª–æ–≤ –∏–∑ –º–∞—Å—Å–∏–≤–∞ –≤ —Ç–µ–∫—É—â–µ–º –≤–µ–∫—Ç–æ—Ä–µ
                for node in nodes:
                    if node in vector:
                        node_specific_objectives.append(func(vector, self))

        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        return base_objectives + node_specific_objectives
    
    def convolution_evaluate_objectives(self, vector=None):
        """
        –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–≤–µ—Ä—Ç–∫–∏ –≤—Å–µ—Ö —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        -----------
        vector : array-like, optional
            –í–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏
            
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        float
            –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –≤—Å–µ—Ö —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–≤–∫–ª—é—á–∞—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ)
            
        –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
        -----------
        –°–≤–µ—Ä—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—É—Ç–µ–º –ø–µ—Ä–µ–º–Ω–æ–∂–µ–Ω–∏—è:
        - –ó–Ω–∞—á–µ–Ω–∏–π –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        - –ó–Ω–∞—á–µ–Ω–∏–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —É–∑–ª–æ–≤
        """
        all_objectives = self.evaluate_objectives(vector)
        return np.prod(np.array([x for x in all_objectives if x is not None]))

    def check_constraints(self, vector=None):
        """
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –≤–µ—Ç–æ—Ä –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞.
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        ----------
        vector : array-like, optional
            –í–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
            
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        bool
            True –µ—Å–ª–∏ –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, False –∏–Ω–∞—á–µ
        """
        return all(c(vector, self) for c in self.constraints)

    def expanded_constraints(self, vector=None):
        """
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –∑–∞–¥–∞—á—É –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞.
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        ----------
        vector : array-like, optional
            –í–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
            
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        list
            –°–ø–∏—Å–æ–∫ –±—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
            
        –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
        -----------
        True –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
        False –æ–∑–Ω–∞—á–∞–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
        """
        return [c(vector, self) for c in self.constraints]

    def check_function_constraints(self, vector):
        """
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π.
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        ----------
        vector : array-like
            –í–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
            
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        bool
            True –µ—Å–ª–∏ –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, False –∏–Ω–∞—á–µ
            
        –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
        -----------
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–∞–∫ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö, —Ç–∞–∫ –∏ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        """
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        for func, bounds in self.function_constraints.items():
            value = func(vector, self)
            if not (bounds[0] <= value <= bounds[1]):
                return False
                
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        for nodes, constraints in self.special_function_constraints.items():
                for node in nodes: 
                    if node in vector:
                        for func, bounds in constraints.items():
                            value = func(vector, self, node)
                            if value is not None:
                                if not (bounds[0] <= value <= bounds[1]):
                                    return False
                        
        return True
    
    def constrain_elements(self, vector):
        """
        –ü—Ä–∏–≤–æ–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤–µ–∫—Ç–æ—Ä–∞ –∫ –¥–æ–ø—É—Å—Ç–∏–º—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º —Å–æ–≥–ª–∞—Å–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º.
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        ----------
        vector : array-like
            –ò—Å—Ö–æ–¥–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è
            
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        numpy.ndarray
            –í–µ–∫—Ç–æ—Ä —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–º–∏ –∫ –¥–æ–ø—É—Å—Ç–∏–º—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º
            
        –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
        -----------
        1. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤–µ–∫—Ç–æ—Ä –∫ –∑–∞–¥–∞–Ω–Ω–æ–º—É —Ç–∏–ø—É –¥–∞–Ω–Ω—ã—Ö
        2. –ï—Å–ª–∏ –∑–∞–¥–∞–Ω—ã –≥—Ä–∞–Ω–∏—Ü—ã, –æ–±—Ä–µ–∑–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —ç—Ç–∏–º –≥—Ä–∞–Ω–∏—Ü–∞–º
        """
        vector = np.array(vector).astype(self.dtype)

        if self.bounds is not None:
            lower_bounds, upper_bounds = self.bounds[:, 0], self.bounds[:, 1]
            return np.clip(vector, lower_bounds, upper_bounds)
        return vector

    def is_feasible(self, solution):
        """
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è.
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        ----------
        solution : array-like
            –í–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
            
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        bool
            True –µ—Å–ª–∏ —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ø—É—Å—Ç–∏–º–æ, False –∏–Ω–∞—á–µ
            
        –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
        -----------
        –†–µ—à–µ–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥–æ–ø—É—Å—Ç–∏–º—ã–º –µ—Å–ª–∏:
        1. –î–ª–∏–Ω–∞ –≤–µ–∫—Ç–æ—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±—É–µ–º–æ–π
        2. –í—ã–ø–æ–ª–Ω–µ–Ω—ã –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
        """
        if len(solution) != self.vector_length:
            return False
        return self.check_constraints(solution) and self.check_function_constraints(solution)

    def evaluate(self, solution):
        """
        –í—ã—á–∏—Å–ª—è–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è.
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        ----------
        solution : array-like
            –í–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏
            
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        -----------
        float
            –ó–Ω–∞—á–µ–Ω–∏–µ —Å–≤–µ—Ä—Ç–∫–∏ —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –µ—Å–ª–∏ —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ø—É—Å—Ç–∏–º–æ,
            –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å –µ—Å–ª–∏ —Ä–µ—à–µ–Ω–∏–µ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ
            
        –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
        -----------
        1. –°–Ω–∞—á–∞–ª–∞ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ –¥–æ–ø—É—Å—Ç–∏–º–æ–º—É –≤–∏–¥—É
        2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
        3. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–≤–µ—Ä—Ç–∫–∞ —Ü–µ–ª–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        """
        solution = self.constrain_elements(solution)
        if self.is_feasible(solution):
            return self.convolution_evaluate_objectives(solution)
        return np.inf
